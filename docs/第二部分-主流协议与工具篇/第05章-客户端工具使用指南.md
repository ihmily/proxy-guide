# 第5章 客户端工具使用指南

掌握了代理协议的原理后，本章将介绍各个平台上常用的客户端工具。这些工具将协议转化为易用的图形界面，让科学上网变得简单。

## 5.1 Windows平台

### 5.1.1 Clash 客户端与替代方案

**⚠️ 提醒：**

```
Clash for Windows (CFW) 已停止维护！

状态：
❌ 项目仓库已删除
❌ 不再接受更新
❌ 可能存在安全隐患

影响：
• 旧版本仍可使用，但不推荐
• 无法获得新功能和安全补丁
• 建议尽快迁移到替代方案
```

**推荐替代方案：**

#### **1. Clash Verge（首选推荐）**

**软件介绍：**

- CFW的完美替代品
- 基于Clash Meta内核
- 支持Windows/Linux/macOS
- 开源免费，持续维护

**下载与安装：**

- 官方地址：https://github.com/clash-verge-rev/clash-verge-rev
- 下载文件：Clash.Verge_x.x.x_x64-setup.exe

**优势：**

- ✓ 界面美观，操作类似CFW
- ✓ 内置中文语言
- ✓ 支持TUN模式
- ✓ 支持脚本增强
- ✓ 自动更新订阅

**基本使用：**

```
1. 安装后首次启动，会自动下载内核
2. 订阅 → 新建 → 粘贴订阅链接
3. 点击更新订阅
4. 代理 → 开启系统代理
5. 选择代理模式（规则/全局/直连）
6. 选择节点

✅ 完全兼容CFW的配置文件！
```

#### **2. FlClash（轻量化选择）**

**特点：**

```
✓ Material You设计风格
✓ 跨平台（Windows/Android/Linux）
✓ 支持Shadowsocks、VMess、Trojan等
✓ 界面简洁易用
```

**下载地址：**

- https://github.com/chen08209/FlClash

#### **3. Mihomo Party（功能增强版）**

**特点：**

```
✓ 基于Mihomo内核
✓ 支持多种协议
✓ 规则管理强大
✓ 性能优秀
```

**下载地址：**

- https://github.com/pompurin404/mihomo-party

#### **4. NekoRay / sing-box（进阶方案）**

**NekoRay：**

- ✓ Qt框架，界面友好
- ✓ 支持V2Ray/Xray/sing-box
- ✓ 跨平台
- 下载：https://github.com/MatsuriDayo/nekoray

**sing-box：**

- ✓ 通用代理平台
- ✓ 支持所有主流协议
- ✓ 高性能
- 下载：https://github.com/SagerNet/sing-box


**CFW迁移指南：**

```
如果您正在使用CFW：

1. 导出配置
   - 备份订阅链接
   - 导出配置文件（如果需要）

2. 安装替代客户端
   - 推荐：Clash Verge
   - 备选：FlClash / Mihomo Party

3. 导入配置
   - 直接粘贴订阅链接
   - 或导入配置文件

4. 测试连接
   - 验证代理是否正常工作

5. 卸载CFW（可选）
```

---

**以下为CFW旧版本使用说明（仅供参考，不推荐继续使用）**

<details>
<summary>点击查看Clash for Windows旧版说明</summary>

<h3>Clash for Windows (CFW) - 已停止维护</h3>

<p><strong>软件介绍：</strong></p>
<ul>
  <li>基于Clash和Electron开发</li>
  <li>图形化界面，易于使用</li>
  <li>支持多种协议和订阅</li>
  <li>曾是Windows平台最受欢迎的客户端</li>
</ul>

<p><strong>下载与安装：</strong></p>
<pre><code>⚠️ 警告：官方仓库已删除，请使用替代方案！

旧版下载（不推荐）：
- 从第三方镜像站下载（有安全风险）
- 或使用替代品
</code></pre>

<p><strong>配置方法参考：</strong></p>

<p><strong>步骤1：导入订阅</strong></p>
<ol>
  <li>获取订阅链接（从机场或自建服务器）</li>
  <li>打开CFW → Profiles → 粘贴订阅链接</li>
  <li>点击Download下载配置</li>
  <li>配置自动加载</li>
</ol>

<p><strong>步骤2：启用系统代理</strong></p>
<ol>
  <li>主界面 → System Proxy开关打开</li>
  <li>选择代理模式：
    <ul>
      <li><strong>Rule（规则模式）</strong>：推荐，智能分流</li>
      <li><strong>Global（全局模式）</strong>：所有流量走代理</li>
      <li><strong>Direct（直连模式）</strong>：不走代理</li>
    </ul>
  </li>
</ol>

<p><strong>步骤3：选择节点</strong></p>
<ol>
  <li>Proxies标签页</li>
  <li>在"🚀 节点选择"中选择具体节点</li>
  <li>或选择"♻️ 自动选择"让系统自动选最快节点</li>
</ol>

<p><strong>高级功能：</strong></p>

<p><strong>TUN模式（接管所有流量）：</strong></p>
<ul>
  <li>适用场景：
    <ul>
      <li>✓ 游戏加速（不支持系统代理的应用）</li>
      <li>✓ 全局接管网络</li>
      <li>✓ 避免DNS泄漏</li>
    </ul>
  </li>
</ul>
<p>开启方式：<br>
Settings → General → TUN Mode → 启用<br>
需要管理员权限运行</p>

<p><strong>Mixin配置（混合配置）：</strong></p>
<pre><code class="language-yaml"># 在Mixin标签页添加自定义配置
# 会与订阅配置合并

mixin:
  dns:
    enable: true
    enhanced-mode: fake-ip
    nameserver:
      - 223.5.5.5
      - 119.29.29.29
    fallback:
      - 8.8.8.8
      - 1.1.1.1
</code></pre>

<p><strong>常见问题：</strong></p>
<pre><code>问题1：启动后无法上网
解决：检查系统代理是否正确设置
     检查防火墙是否拦截
     
问题2：订阅更新失败
解决：检查订阅链接是否有效
     尝试使用VPN/其他节点更新

问题3：速度慢
解决：切换不同节点
     使用延迟测试选择最快节点
     检查是否开启了不必要的规则
</code></pre>

<p><strong>故障排查提示：</strong></p>
<p>以上问题适用于大多数Clash系列客户端。</p>

</details>

---

### 5.1.2 V2RayN

**软件特点：**

- 专注于V2Ray/Xray协议
- 轻量级，资源占用少
- 配置灵活，功能强大
- 适合高级用户

**下载安装：**

- 官方地址：https://github.com/2dust/v2rayN
- 下载：v2rayN-windows-64.zip（含v2ray-core）或 v2rayN.zip（需单独下载core）
- 解压后直接运行 v2rayN.exe

**配置方法：**

**方法1：订阅导入**

```
1. 订阅 → 订阅设置
2. 添加订阅地址
3. 确定 → 更新订阅
4. 服务器列表自动导入
```

**方法2：手动添加**

```
1. 服务器 → 添加VMess/VLESS/Shadowsocks服务器
2. 填写服务器参数：
   - 地址（域名或IP）
   - 端口
   - 用户ID（UUID）
   - 加密方式
   - 传输协议（TCP/WebSocket等）
3. 确定保存
```

**方法3：扫描二维码/导入链接**

```
1. 服务器 → 从剪贴板导入批量URL
2. 或使用扫码功能（需要摄像头）
```

**使用技巧：**

**路由规则设置：**

```
设置 → 路由设置

预设方案：
- 绕过大陆：国内直连，国外代理（推荐）
- 全局：所有流量走代理
- 绕过局域网及大陆：更精细的分流

自定义规则：
- 可以添加自定义域名/IP规则
- 支持导入外部规则文件
```

**测速与排序：**

```
选中多个服务器 → 右键 → 测试服务器延迟（Tcping）
服务器 → 按延迟排序
选择延迟最低的节点
```

**核心类型切换：**

```
设置 → Core类型设置

选项：
- v2fly (v2ray-core)：稳定版
- Xray-core：性能增强版（推荐）
- SagerNet：移动端核心

✅ 推荐使用 Xray-core
```

### 5.1.3 Qv2ray

**软件特点：**

- 跨平台（Windows/Linux/macOS）
- 模块化设计
- 插件系统
- 高度可定制

**下载安装：**

- 官方地址：https://github.com/Qv2ray/Qv2ray
- 下载 Qv2ray 安装包和 v2ray-core
- 首次启动需要配置 core 路径

**核心配置：**

**1. 首选项设置**
```
首选项 → 常规设置

入站设置：
- SOCKS端口：10808
- HTTP端口：10809
- 监听地址：127.0.0.1

连接设置：
- 启用统计
- 启用自动连接
```

**2. 添加服务器**
```
方式1：订阅
分组 → 订阅管理 → 添加订阅
输入订阅地址 → 更新订阅

方式2：手动配置
新建 → 手动输入 → 选择协议类型
填写服务器参数

方式3：导入
导入 → 从链接导入 / 从JSON导入
```

**插件推荐：**
```
QvPlugin-Trojan：Trojan协议支持
QvPlugin-SS：Shadowsocks支持
QvPlugin-NaiveProxy：NaiveProxy支持
QvPlugin-Command：自定义命令

安装：首选项 → 插件 → 浏览插件目录
将插件文件放入后重启
```

### 5.1.4 Windows平台对比

| 特性 | Clash Verge | FlClash | V2RayN | Qv2ray |
|-----|-------------|---------|--------|--------|
| **易用性** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| **界面美观** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| **协议支持** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| **规则功能** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| **资源占用** | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| **维护状态** | ✅ 活跃 | ✅ 活跃 | ✅ 活跃 | ⚠️ 较少 |
| **适合人群** | 新手/一般用户 | 新手/追求简洁 | 中级用户 | 高级用户 |

**推荐选择：**
```
首选推荐：Clash Verge
- CFW的完美替代
- 界面友好，上手简单
- 规则强大，自动分流
- 订阅管理方便
- 持续更新维护

简洁推荐：FlClash
- 界面美观现代
- 跨平台支持
- 轻量快速

进阶推荐：V2RayN
- 轻量快速
- V2Ray全功能支持
- 配置灵活

极客推荐：Qv2ray
- 跨平台
- 插件扩展
- 高度定制

⚠️ 重要：不再推荐Clash for Windows，请选择上述替代方案！
```

## 5.2 macOS平台

### 5.2.1 ClashX / ClashX Pro

**软件特点：**

- macOS原生应用
- 基于Clash核心
- 菜单栏常驻，操作便捷
- Pro版本支持TUN模式

**下载安装：**

```
ClashX：https://github.com/yichengchen/clashX
ClashX Pro：https://install.appcenter.ms/users/clashx/apps/clashx-pro/distribution_groups/public

安装后需要授权：
系统偏好设置 → 安全性与隐私 → 允许
```

**基本使用：**

**导入配置：**
```
方法1：订阅
菜单栏ClashX图标 → 配置 → 托管配置 → 管理
添加订阅URL → 更新

方法2：本地文件
配置 → 打开配置文件夹
将config.yaml复制到该文件夹
重新加载配置
```

**设置代理：**
```
菜单栏ClashX → 设置为系统代理（勾选）

代理模式：
- 规则判断：根据规则自动分流（推荐）
- 全局连接：所有流量走代理
- 直接连接：不使用代理
- 脚本：使用JavaScript脚本判断
```

**增强模式（ClashX Pro）：**
```
菜单栏 → 增强模式

功能：
✓ TUN设备，接管所有流量
✓ 不需要系统代理设置
✓ 支持UDP转发
✓ 真正的透明代理

使用场景：
- 游戏加速
- 非HTTP应用
- 完全接管网络
```

**实时日志：**
```
菜单栏 → 控制台

显示：
- 连接日志
- 规则匹配情况
- DNS查询
- 流量统计

调试必备功能
```

### 5.2.2 Surge

**软件特点：**

- macOS/iOS平台的高端工具
- 功能极其强大
- 价格较高（$49.99-$99.99）
- 专业用户首选

**核心功能：**

**1. 强大的规则引擎**

支持规则类型：

- DOMAIN/DOMAIN-SUFFIX/DOMAIN-KEYWORD
- IP-CIDR/IP-CIDR6/GEOIP
- USER-AGENT/URL-REGEX
- PROCESS-NAME（进程匹配）
- RULE-SET（规则集）
- SCRIPT（JavaScript脚本）


**2. 模块系统**

模块作用：

- 重写规则（广告屏蔽）
- MITM解密HTTPS
- 脚本增强
- 可在线订阅模块

```yaml
# 示例：去广告模块
[Rule]
DOMAIN-SUFFIX,ad.example.com,REJECT
URL-REGEX,^https?://.*/(ad|ads)/.*,REJECT
```

**3. 脚本功能**
```javascript
// 示例：修改响应
let body = $response.body;
body = body.replace(/ads/g, '');
$done({body});
```

用途：

- 修改请求/响应
- 自动签到
- 去除广告
- 数据提取

**配置示例：**

```ini
[General]
loglevel = notify
dns-server = 223.5.5.5, 119.29.29.29
skip-proxy = 127.0.0.1, 192.168.0.0/16, localhost

[Proxy]
Proxy1 = ss, server.com, 8388, encrypt-method=chacha20-ietf-poly1305, password=pwd
Proxy2 = vmess, server.com, 443, username=uuid, tls=true

[Proxy Group]
Proxy = select, Proxy1, Proxy2, Auto
Auto = url-test, Proxy1, Proxy2, url=http://www.gstatic.com/generate_204

[Rule]
DOMAIN-SUFFIX,google.com,Proxy
DOMAIN-KEYWORD,youtube,Proxy
GEOIP,CN,DIRECT
FINAL,Proxy
```

### 5.2.3 V2RayX / V2RayU

**V2RayX：**

- 老牌V2Ray客户端
- 功能基础但稳定
- 适合简单使用

**V2RayU：**

- V2RayX的增强版
- 界面更美观
- 功能更丰富
- 支持订阅

**下载地址：**

- V2RayX：https://github.com/Cenmrev/V2RayX
- V2RayU：https://github.com/yanue/V2rayU

**基本使用：**

```
1. 菜单栏图标 → Configure
2. 添加服务器或导入订阅
3. 选择服务器
4. Load Core（加载内核）
5. PAC模式或全局模式
```

### 5.2.4 macOS平台推荐

| 需求 | 推荐工具 | 理由 |
|-----|---------|------|
| **一般使用** | ClashX | 免费、易用、功能够用 |
| **游戏/全局** | ClashX Pro | TUN模式，性能好 |
| **专业需求** | Surge | 功能最强，脚本支持 |
| **V2Ray专用** | V2RayU | 轻量，V2Ray全功能 |

## 5.3 Android平台

### 5.3.1 Clash for Android (CFA)

**软件特点：**
- 基于Clash内核
- 开源免费
- 支持规则和订阅
- Android平台最流行

**下载安装：**
```
官方：https://github.com/Kr328/ClashForAndroid
下载：cfa-x.x.x-premium-universal-release.apk

或通过Google Play搜索"Clash for Android"
```

**配置步骤：**

**1. 导入配置**
```
方法1：URL导入
配置 → 新配置 → URL → 输入订阅链接 → 保存

方法2：文件导入
配置 → 新配置 → 文件 → 选择config.yaml

方法3：扫码导入（如果订阅提供二维码）
```

**2. 启动代理**
```
首页 → 点击开关启动
首次使用需要：
- 同意VPN连接请求
- 授予网络权限
```

**3. 选择节点**
```
代理 → 选择代理组
- 手动选择具体节点
- 或使用自动选择/负载均衡
```

**高级设置：**

**访问控制：**
```
设置 → 网络 → 访问控制

可以设置：
- 仅代理指定应用（白名单模式）
- 不代理指定应用（黑名单模式）

示例：仅代理Chrome和Telegram
勾选"访问控制模式"
选择"允许选中应用"
勾选Chrome、Telegram
```

**DNS设置：**
```
设置 → 网络 → DNS

推荐设置：
DNS模式：fake-ip（性能最好）
或 redir-host（兼容性好）

自定义DNS服务器：
223.5.5.5
119.29.29.29
```

### 5.3.2 V2RayNG

**软件特点：**

- V2Ray官方推荐客户端
- 支持所有V2Ray协议
- 轻量快速
- 免费开源

**下载安装：**
```
GitHub：https://github.com/2dust/v2rayNG
Google Play：搜索"v2rayNG"

下载v2rayNG_x.x.x_arm64-v8a.apk
```

**使用教程：**

**添加服务器：**
```
方法1：扫描二维码
首页 → 右上角 + → 扫描二维码

方法2：从剪贴板导入
复制vmess://或vless://链接
打开应用自动识别
或手动点击 + → 从剪贴板导入

方法3：订阅
右上角 ≡ → 订阅设置 → + 添加
输入订阅URL → 确定
返回首页下拉更新订阅
```

**启动连接：**
```
选择服务器 → 点击右下角V图标
授权VPN连接
连接成功后状态栏显示钥匙图标
```

**路由设置：**
```
左侧菜单 → 设置 → 路由设置

预定义规则：
- 绕过局域网及大陆地址
- 绕过大陆地址
- 绕过局域网
- 全局

自定义：
可以添加自定义域名和IP规则
```

**分应用代理：**
```
设置 → 分应用代理

允许/禁止应用列表：
选择需要代理的应用
其他应用直连

适合：
- 国内应用直连（微信、支付宝）
- 国外应用代理（Google、Twitter）
```

### 5.3.3 SagerNet

**软件特点：**

- 基于V2Ray/Xray
- 支持多种协议
- 插件系统
- 性能优化

**下载安装：**
```
GitHub：https://github.com/SagerNet/SagerNet
Google Play：搜索"SagerNet"
```

**特色功能：**

**1. 多种核心支持**
```
内置核心：
- V2Ray
- Xray
- Trojan-Go
- NaiveProxy
- Brook

通过插件支持：
- Shadowsocks
- ShadowsocksR
- WireGuard
```

**2. 路由规则**
```
设置 → 路由

预设方案：
- 绕过中国大陆
- 仅代理中国大陆
- 全局

自定义规则：
支持domain/geoip/cidr等
```

**3. 配置格式**
```
支持导入：
- V2Ray JSON
- Clash YAML
- Shadowsocks URL
- 订阅链接
```

### 5.3.4 Android平台对比

| 特性 | Clash for Android | V2RayNG | SagerNet |
|-----|-------------------|---------|----------|
| **易用性** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| **规则功能** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| **协议支持** | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| **性能** | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| **更新频率** | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |

**推荐：**
```
一般用户：Clash for Android
- 规则强大，自动分流
- 界面美观，易于使用

技术用户：V2RayNG
- 协议全面
- 配置灵活
- 性能优秀

折中选择：SagerNet
- 功能丰富
- 多核心支持
- 插件扩展
```

## 5.4 iOS平台

### 5.4.1 Shadowrocket (小火箭)

**软件特点：**

- iOS平台最受欢迎
- 功能强大全面
- 规则丰富
- 需付费购买（$2.99）

**购买与下载：**
```
美区App Store搜索：Shadowrocket
需要美区Apple ID账号

购买注意：
⚠️ 从官方App Store购买
⚠️ 不要使用共享账号（有风险）
⚠️ 认准开发者：Shadow Launch Technology Limited
```

**配置方法：**

**1. 添加服务器**
```
方法1：扫描二维码
首页 → 右上角 + → 类型：扫描二维码

方法2：手动添加
首页 → 右上角 + → 类型：选择协议
填写服务器信息

方法3：URL导入
复制ss://、vmess://等链接
打开应用自动识别

方法4：订阅
首页 → 右上角 + → 类型：Subscribe
粘贴订阅URL → 保存
下拉更新订阅
```

**2. 启用代理**
```
选择服务器（打钩）
首页顶部开关 → 打开
允许VPN配置
连接成功
```

**规则配置：**

**使用远程规则：**
```
配置 → 右上角 + → 添加配置

推荐规则：
https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/ruleset/proxy.txt

功能：
- 自动分流国内外流量
- 广告屏蔽
- 隐私保护
```

**自定义规则：**
```
配置 → 编辑纯文本配置

[Rule]
# 直连规则
DOMAIN-SUFFIX,baidu.com,DIRECT
DOMAIN-SUFFIX,qq.com,DIRECT

# 代理规则
DOMAIN-SUFFIX,google.com,PROXY
DOMAIN-SUFFIX,youtube.com,PROXY
DOMAIN-KEYWORD,facebook,PROXY

# IP规则
IP-CIDR,192.168.0.0/16,DIRECT
GEOIP,CN,DIRECT

# 兜底
FINAL,PROXY
```

**实用功能：**

**按需连接：**

```
设置 → 按需连接

可设置：
- WiFi下自动断开（家里网络）
- 移动网络自动连接
- 特定WiFi自动连接
```

**全局路由：**

```
设置 → 全局路由

选项：
- 配置：使用规则分流
- 代理：全局代理
- 直连：全部直连
- 场景：自动切换
```

### 5.4.2 Surge

**软件特点：**

- iOS/macOS平台最强大工具
- 专业级网络调试
- 价格较高（$49.99起）
- 适合专业用户

**功能特性：**

**1. MITM（中间人抓包）**
```
可以：
- 解密HTTPS流量
- 修改请求/响应
- 调试API接口
- 去除应用广告

设置：
Surge → MITM → 安装证书
设置 → 通用 → 关于 → 证书信任设置 → 启用
```

**2. 模块系统**
```
模块示例：

#!name=去广告模块
#!desc=屏蔽常见广告

[Rule]
DOMAIN-SUFFIX,ad.example.com,REJECT
URL-REGEX,^https?://.*/(ad|ads)/.*,REJECT

[URL Rewrite]
^https?://api\.example\.com/ad - reject

使用：
配置 → 模块 → 安装新模块
输入模块URL或本地文件
```

**3. 脚本支持**
```javascript
// 示例：自动签到脚本
let url = "https://api.example.com/checkin";
$httpClient.post(url, (error, response, data) => {
  if (!error) {
    console.log("签到成功");
    $notification.post("签到", "", "已完成每日签到");
  }
  $done();
});
```

### 5.4.3 Quantumult X (圈X)

**软件特点：**

- 功能强大
- 规则灵活
- 重写功能
- 价格适中（$7.99）

**核心功能：**

**1. 策略组**
```
[policy]
# 手动选择
static=节点选择, 香港节点, 美国节点, 自动选择

# 自动选择（延迟最低）
url-latency-benchmark=自动选择, server-tag-regex=.*, check-interval=600

# 故障转移
available=故障转移, 节点1, 节点2, 节点3
```

**2. 分流规则**
```
[filter_remote]
# 远程规则
https://example.com/proxy.list, tag=代理规则, enabled=true

[filter_local]
# 本地规则
host-suffix, google.com, proxy
host-keyword, youtube, proxy
ip-cidr, 192.168.0.0/16, direct
geoip, cn, direct
final, proxy
```

**3. 重写规则**
```
[rewrite_remote]
# 去广告
https://example.com/adblock.conf, tag=去广告, enabled=true

[rewrite_local]
# 自定义重写
^https?://api\.example\.com/ad url reject-dict
^https?://.*\.jpg$ url reject-img
```

### 5.4.4 iOS平台对比

| 特性 | Shadowrocket | Surge | Quantumult X |
|-----|-------------|-------|--------------|
| **价格** | $2.99 | $49.99+ | $7.99 |
| **易用性** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| **功能** | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| **性能** | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| **适合人群** | 一般用户 | 专业用户 | 进阶用户 |

**推荐：**

```
新手/一般用户：Shadowrocket

- 价格最低
- 功能够用
- 简单易上手

专业用户/开发者：Surge
- 功能最强
- 调试利器
- MITM抓包

进阶用户：Quantumult X
- 功能强大
- 性价比高
- 重写灵活
```

## 5.5 Linux平台配置

### 5.5.1 命令行工具

**Shadowsocks-libev：**
```bash
# Ubuntu/Debian安装
sudo apt install shadowsocks-libev

# 配置文件：/etc/shadowsocks-libev/config.json
{
  "server": "server_ip",
  "server_port": 8388,
  "local_address": "127.0.0.1",
  "local_port": 1080,
  "password": "your_password",
  "method": "chacha20-ietf-poly1305"
}

# 启动
ss-local -c /etc/shadowsocks-libev/config.json

# 开机自启
sudo systemctl enable shadowsocks-libev-local@config
sudo systemctl start shadowsocks-libev-local@config
```

**V2Ray：**
```bash
# 安装脚本
bash <(curl -L https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh)

# 配置文件：/usr/local/etc/v2ray/config.json
# 启动
sudo systemctl start v2ray

# 开机自启
sudo systemctl enable v2ray
```

**Clash（已经停止维护）：**
```bash
# 下载Clash（此地址已经无法访问）
wget https://github.com/Dreamacro/clash/releases/download/v1.x.x/clash-linux-amd64.tar.gz
tar -zxvf clash-linux-amd64.tar.gz
sudo mv clash /usr/local/bin/

# 下载配置
mkdir ~/.config/clash
wget -O ~/.config/clash/config.yaml "订阅链接"

# 运行
clash -d ~/.config/clash

# 设置系统代理
export http_proxy=http://127.0.0.1:7890
export https_proxy=http://127.0.0.1:7890
```

### 5.5.2 图形化工具

**Qv2ray（推荐）：**

```bash
# Arch Linux
sudo pacman -S qv2ray

# Ubuntu/Debian（AppImage）
wget https://github.com/Qv2ray/Qv2ray/releases/download/v2.x.x/Qv2ray-v2.x.x-linux-x64.AppImage
chmod +x Qv2ray-*.AppImage
./Qv2ray-*.AppImage
```

**Clash for Windows（通过Wine）：**

```bash
# 安装Wine
sudo apt install wine

# 运行Windows版CFW
wine Clash.for.Windows.exe
```

### 5.5.3 浏览器代理设置

**系统级代理：**
```bash
# 临时设置
export http_proxy=http://127.0.0.1:1080
export https_proxy=http://127.0.0.1:1080
export all_proxy=socks5://127.0.0.1:1080

# 永久设置（添加到~/.bashrc或~/.zshrc）
echo 'export http_proxy=http://127.0.0.1:1080' >> ~/.bashrc
echo 'export https_proxy=http://127.0.0.1:1080' >> ~/.bashrc
source ~/.bashrc
```

**使用proxychains：**
```bash
# 安装
sudo apt install proxychains

# 配置：/etc/proxychains.conf
socks5 127.0.0.1 1080

# 使用
proxychains curl google.com
proxychains firefox
```

## 5.6 路由器端配置

### 5.6.1 支持的路由器固件

**OpenWrt：**

- 开源路由器固件
- 插件丰富
- 最广泛支持

**Merlin（梅林）：**

- 基于华硕官方固件
- 稳定性好
- 适合华硕路由器

**Padavan（老毛子）：**

- 针对MT7620/MT7621芯片
- 内置Shadowsocks
- 适合小米、斐讯等

### 5.6.2 OpenWrt安装代理

**安装Shadowsocks：**
```bash
# 更新软件包
opkg update

# 安装shadowsocks-libev
opkg install shadowsocks-libev-ss-redir
opkg install shadowsocks-libev-ss-tunnel

# 安装luci界面
opkg install luci-app-shadowsocks-libev
```

**安装Clash：**
```bash
# 安装OpenClash插件
# 通过luci界面上传ipk包或在线安装
opkg install luci-app-openclash

# 访问：路由器IP → 服务 → OpenClash
```

**配置方法：**

```
1. 导入订阅链接
2. 设置运行模式（全局/规则/直连）
3. 配置DNS（推荐使用国内外分流DNS）
4. 启用代理
5. 连接路由器WiFi的所有设备自动代理
```

### 5.6.3 路由器代理优势

**优点：**

```
✓ 所有设备自动翻墙（手机、电脑、电视、游戏机）
✓ 无需每台设备单独配置
✓ 智能分流（国内直连，国外代理）
✓ 全家共享，一次配置永久使用
✓ 支持不能安装软件的设备（智能电视、PS5等）
```

**缺点：**

```
✗ 需要刷机（有风险）
✗ 配置较复杂
✗ 性能受路由器硬件限制
✗ 故障影响全家网络
```

---

## 本章小结

本章详细介绍了各平台的客户端工具使用方法：

**平台推荐：**

| 平台 | 推荐工具 | 备选方案 | 适合人群 |
|-----|---------|-----------|----------|
| **Windows** | Clash Verge | FlClash / V2RayN | 新手、一般用户 |
| **macOS** | ClashX Pro / Clash Verge | Surge / V2RayU | 一般/专业用户 |
| **Android** | Clash Meta for Android | V2RayNG / SagerNet | 大多数用户 |
| **iOS** | Shadowrocket | Surge / Quantumult X | 性价比之选 |
| **Linux** | Clash Verge / Qv2ray | v2rayA / Clash | 命令行/图形界面 |
| **路由器** | OpenClash | Shadowsocks | 全家使用 |

**重要说明：**

```
生态系统变化：

• Clash for Windows 已停止维护
  建议迁移至 Clash Verge 等活跃维护的项目

• Clash Meta 成为新一代主流内核
  提供更好的性能和更广泛的协议支持

• sing-box 等新兴通用代理平台崭露头角
  支持几乎所有主流代理协议

• 移动端生态持续活跃
  各平台客户端保持积极更新迭代
```

**使用建议：**

```
入门：选择图形化客户端 + 订阅服务
进阶：学习规则配置，优化分流
高级：路由器部署，全家共享
```

下一章我们将学习浏览器代理配置和隐私保护技巧。

---

**实践任务：**


1. 在你的平台上安装推荐的客户端
2. 导入订阅或配置服务器
3. 测试连接和访问效果
4. 尝试自定义分流规则

